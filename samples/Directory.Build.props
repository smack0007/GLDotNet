<Project>
    <Import Project="$([MSBuild]::GetPathOfFileAbove('Directory.Build.props', '$(MSBuildThisFileDirectory)../'))" />
  
    <ItemGroup>
        <ProjectReference Condition=" $(MSBuildProjectName) != 'GLDotNet.Samples' "
                          Include="$(MSBuildThisFileDirectory)GLDotNet.Samples\GLDotNet.Samples.csproj" />
        
        <ProjectReference Include="$(RepositoryRootDirectory)src\GLDotNet\GLDotNet.csproj" />
        <ProjectReference Include="$(RepositoryRootDirectory)ext\GLFWDotNet\src\GLFWDotNet\GLFWDotNet.csproj" />
    </ItemGroup>

    <Target Name="CopyGLFWDlls" AfterTargets="AfterBuild">
        <Copy SourceFiles="$(RepositoryRootDirectory)ext\GLFWDotNet\ext\GLFW\x64\glfw3.dll"
              DestinationFolder="$(OutputPath)x64\"
              SkipUnchangedFiles="true" />

        <Copy SourceFiles="$(RepositoryRootDirectory)ext\GLFWDotNet\ext\GLFW\x86\glfw3.dll"
              DestinationFolder="$(OutputPath)x86\"
              SkipUnchangedFiles="true" />
    </Target>
</Project>