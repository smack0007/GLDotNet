<Project>
    <Import Project="$([MSBuild]::GetPathOfFileAbove('Directory.Build.props', '$(MSBuildThisFileDirectory)../'))" />

    <Import Project="$(RepositoryRootDirectory)src\GLDotNet\GLDotNet.targets" />
    
    <Import Condition=" $(MSBuildProjectName) != 'GLDotNet.Samples' "
            Project="$(MSBuildThisFileDirectory)GLDotNet.Samples\GLDotNet.Samples.targets" />
    
    <ItemGroup>        
        <ProjectReference Include="$(RepositoryRootDirectory)ext\GLFWDotNet\src\GLFWDotNet\GLFWDotNet.csproj" />
        <ProjectReference Include="$(RepositoryRootDirectory)ext\ImageDotNet\src\ImageDotNet\ImageDotNet.csproj" />
    </ItemGroup>

    <Target Name="CopyGLFWDlls" AfterTargets="AfterBuild">
        <Copy SourceFiles="$(RepositoryRootDirectory)ext\GLFWDotNet\ext\GLFW\x64\glfw3.dll"
              DestinationFolder="$(OutputPath)x64\"
              SkipUnchangedFiles="true" />

        <Copy SourceFiles="$(RepositoryRootDirectory)ext\GLFWDotNet\ext\GLFW\x86\glfw3.dll"
              DestinationFolder="$(OutputPath)x86\"
              SkipUnchangedFiles="true" />
    </Target>
</Project>